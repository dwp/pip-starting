{% extends "layout-signed-in-v7.html" %}
{% block pageTitle %}
Your health condition
{% endblock %}
{% block beforeContent %}
{% include "includes/phase-banner.html" %}
{% endblock %}
{% set conditionsLength %}
{{ data.conditions | length }}
{% endset %}
{% block content %}
<form id="form" method="post" action="#"></form>
<div class="govuk-grid-row">

    <div class="govuk-grid-column-two-thirds">
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
            data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li>
                        <a href="#conditions[0][condition_name]">Enter your health conditions or disabilities</a>
                    </li>
                </ul>
            </div>
        </div> <!-- govuk-error-summary -->

        <h1 class="govuk-heading-xl govuk-!-margin-bottom-4">What physical or mental health conditions or disabilities
            do you
            have?</h1>

        <details class="govuk-details " data-module="govuk-details">
            <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                    What we mean by conditions or disabilities
                </span>
            </summary>
            <div class="govuk-details__text">
                <p>Conditions and disabilities include:</p>
                <ul class="govuk-list govuk-list--bullet">
                    <li>physical conditions, like arthritis, heart disease or diabetes</li>
                    <li>blindness and sight impairment</li>
                    <li>hearing and speech difficulties</li>
                    <li>learning, developmental or behavioural difficulties</li>
                    <li>cognitive impairment</li>
                    <li>mental health conditions, like depression, anxiety or bipolar disorder</li>
                    <li>neurological conditions, like Parkinson's or epilepsy</li>
                </ul>
            </div>
        </details>
        <div data-module="moj-add-another">
            <!-- START HERE -->
            <fieldset class="govuk-fieldset moj-add-another__item">
                <p class="govuk-body govuk-!-font-weight-bold"></p>
                <div class="govuk-form-group govuk-form-group--error">
                    <label class="govuk-label govuk-!-font-weight-bold" for="conditions[0][condition_name]">
                        Enter a condition or disability
                    </label>

                    <p>Add more by selecting 'Add another'. You'll be able to give more information about how each
                        condition affects you later.</p>

                        <span id="add-support-communicating-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span>Enter your health conditions or disabilities
                          </span>

                    <input class="govuk-input govuk-input--error" id="conditions[0][condition_name]" name="conditions[0][condition_name]"
                        type="text" data-name="conditions[%index%][condition_name]"
                        data-id="conditions[%index%][condition_name]">
                </div> <!-- govuk-form-group -->
                <!-- <div class="govuk-form-group">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                Approximate start date
                            </legend>
                            <div id="date-of-birth-hint" class="govuk-hint">
                                For example, 3 1980
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label" for="conditions[0][date]">

                                    </label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                        id="conditions[0][date]"
                                        name="conditions[0][date]" type="text" data-name="conditions[%index%][date]"
                                        data-id="conditions[%index%][date]">
                                </div> <!-- govuk-form-group -->
                <!-- </div> <!-- govuk-date-input__item -->
                <!-- </div> <!-- govuk-form-group -->
                {% if conditionsLength > 1 %}
                <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                    Remove
                </button>
                {% endif %}
            </fieldset>
            <!-- ENDS HERE -->
            {% if conditionsLength > 1 %}
            {% for condition in data.conditions %}
            {% if not loop.first %}
            <!-- START HERE -->
            <fieldset class="govuk-fieldset moj-add-another__item">
                <p class="govuk-body govuk-!-font-weight-bold"></p>
                <div class="govuk-form-group">
                    <label class="govuk-label govuk-!-font-weight-bold"
                        for="conditions[{{loop.index0}}][condition_name]">
                        Name of condition or disability
                    </label>
                    <input class="govuk-input" id="conditions[{{loop.index0}}][condition_name]"
                        name="conditions[{{loop.index0}}][condition_name]" type="text" value="condition.condition_name"
                        data-name="conditions[%index%][condition_name]" data-id="conditions[%index%][condition_name]">
                </div> <!-- govuk-form-group -->
                <div class="govuk-form-group">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        Approximate start date
                    </legend>
                    <!-- <div id="date-of-birth-hint" class="govuk-hint">
                                For example, 3 1980
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label"
                                        for="conditions[{{loop.index0}}][date]">

                                    </label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                        id="conditions[{{loop.index0}}][date]"
                                        name="conditions[{{loop.index0}}][date]" type="text"
                                        data-name="conditions[%index%][date]" data-id="conditions[%index%][date]"
                                        value="condition.date">
                                </div> <!-- govuk-form-group -->
                    <!-- </div> <!-- govuk-date-input__item -->
                    <!-- </div> <!-- govuk-form-group -->
                    <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                        Remove
                    </button>
            </fieldset>
            <!-- ENDS HERE -->
            {% endif %}
            {% endfor %}
            {% endif %}
            <div class="moj-button-action">
                <button class="govuk-button govuk-button--secondary moj-add-another__add-button govuk-!-margin-bottom-4"
                    data-module="govuk-button">
                    Add another
                </button>
            </div>
            <div class="moj-button-action">
                <button class="govuk-button" data-module="govuk-button">
                    Save and continue
                </button>
            </div>
        </div> <!-- data module -->

        <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
            data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li>
                        <a href="#conditions[0][condition_name]-1">Health condition or disability must be 200 characters or fewer</a>
                    </li>
                </ul>
            </div>
        </div> <!-- govuk-error-summary -->

        <h1 class="govuk-heading-xl govuk-!-margin-bottom-4">What physical or mental health conditions or disabilities
            do you
            have?</h1>

        <details class="govuk-details " data-module="govuk-details">
            <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                    What we mean by conditions or disabilities
                </span>
            </summary>
            <div class="govuk-details__text">
                <p>Conditions and disabilities include:</p>
                <ul class="govuk-list govuk-list--bullet">
                    <li>physical conditions, like arthritis, heart disease or diabetes</li>
                    <li>blindness and sight impairment</li>
                    <li>hearing and speech difficulties</li>
                    <li>learning, developmental or behavioural difficulties</li>
                    <li>cognitive impairment</li>
                    <li>mental health conditions, like depression, anxiety or bipolar disorder</li>
                    <li>neurological conditions, like Parkinson's or epilepsy</li>
                </ul>
            </div>
        </details>
        <div data-module="moj-add-another">
            <!-- START HERE -->
            <fieldset class="govuk-fieldset moj-add-another__item">
                <p class="govuk-body govuk-!-font-weight-bold"></p>
                <div class="govuk-form-group govuk-form-group--error">
                    <label class="govuk-label govuk-!-font-weight-bold" for="conditions[0][condition_name]">
                        Enter a condition or disability
                    </label>

                    <p>Add more by selecting 'Add another'. You'll be able to give more information about how each
                        condition affects you later.</p>

                        <span id="add-support-communicating-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span>Health condition or disability must be 200 characters or fewer
                          </span>

                    <input class="govuk-input govuk-input--error" id="conditions[0][condition_name]-1" name="conditions[0][condition_name]"
                        type="text" data-name="conditions[%index%][condition_name]"
                        data-id="conditions[%index%][condition_name]">
                </div> <!-- govuk-form-group -->
                <!-- <div class="govuk-form-group">
                            <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                                Approximate start date
                            </legend>
                            <div id="date-of-birth-hint" class="govuk-hint">
                                For example, 3 1980
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label" for="conditions[0][date]">

                                    </label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                        id="conditions[0][date]"
                                        name="conditions[0][date]" type="text" data-name="conditions[%index%][date]"
                                        data-id="conditions[%index%][date]">
                                </div> <!-- govuk-form-group -->
                <!-- </div> <!-- govuk-date-input__item -->
                <!-- </div> <!-- govuk-form-group -->
                {% if conditionsLength > 1 %}
                <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                    Remove
                </button>
                {% endif %}
            </fieldset>
            <!-- ENDS HERE -->
            {% if conditionsLength > 1 %}
            {% for condition in data.conditions %}
            {% if not loop.first %}
            <!-- START HERE -->
            <fieldset class="govuk-fieldset moj-add-another__item">
                <p class="govuk-body govuk-!-font-weight-bold"></p>
                <div class="govuk-form-group">
                    <label class="govuk-label govuk-!-font-weight-bold"
                        for="conditions[{{loop.index0}}][condition_name]">
                        Name of condition or disability
                    </label>
                    <input class="govuk-input" id="conditions[{{loop.index0}}][condition_name]"
                        name="conditions[{{loop.index0}}][condition_name]" type="text" value="condition.condition_name"
                        data-name="conditions[%index%][condition_name]" data-id="conditions[%index%][condition_name]">
                </div> <!-- govuk-form-group -->
                <div class="govuk-form-group">
                    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                        Approximate start date
                    </legend>
                    <!-- <div id="date-of-birth-hint" class="govuk-hint">
                                For example, 3 1980
                            </div>
                            <div class="govuk-date-input__item">
                                <div class="govuk-form-group">
                                    <label class="govuk-label govuk-date-input__label"
                                        for="conditions[{{loop.index0}}][date]">

                                    </label>
                                    <input class="govuk-input govuk-date-input__input govuk-input--width-20"
                                        id="conditions[{{loop.index0}}][date]"
                                        name="conditions[{{loop.index0}}][date]" type="text"
                                        data-name="conditions[%index%][date]" data-id="conditions[%index%][date]"
                                        value="condition.date">
                                </div> <!-- govuk-form-group -->
                    <!-- </div> <!-- govuk-date-input__item -->
                    <!-- </div> <!-- govuk-form-group -->
                    <button type="button" class="govuk-button govuk-button--secondary moj-add-another__remove-button">
                        Remove
                    </button>
            </fieldset>
            <!-- ENDS HERE -->
            {% endif %}
            {% endfor %}
            {% endif %}
            <div class="moj-button-action">
                <button class="govuk-button govuk-button--secondary moj-add-another__add-button govuk-!-margin-bottom-4"
                    data-module="govuk-button">
                    Add another
                </button>
            </div>
            <div class="moj-button-action">
                <button class="govuk-button" data-module="govuk-button">
                    Save and continue
                </button>
            </div>
        </div> <!-- data module -->

    </div>{# /govuk-grid-column-two-thirds #}
</div>{# /govuk-grid-row #}
</form>
{% endblock %}
